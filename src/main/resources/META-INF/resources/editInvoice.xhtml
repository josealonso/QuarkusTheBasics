<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/template.xhtml">
    <ui:define name="title">#{msg.value['invoice.edit']}</ui:define>
    <ui:define name="content">
        <div class="card">
            <h2 class="text-900 text-3xl font-medium mb-3">#{msg.value['invoice.edit']}</h2>
            
            <h:form id="form">
                <p:panel id="formPanel" styleClass="form-panel">
                    <p:messages id="messages" showDetail="false" closable="true" globalOnly="true">
                        <p:autoUpdate />
                    </p:messages>

                    <div class="grid">
                        <div class="col-12 lg:col-6 xl:col-6">
                            <div class="field">
                                <p:outputLabel for="invoiceNumber" value="#{msg.value['invoice.number']}" styleClass="text-900 font-medium block mb-2"/>
                                <p:inputText id="invoiceNumber" 
                                           value="#{editInvoiceBean.invoiceToSave.invoiceNumber}" 
                                           required="true"
                                           requiredMessage="#{msg.value['message.required']}"
                                           placeholder="#{msg.value['invoice.number']}"
                                           styleClass="w-full"/>
                                <p:message for="invoiceNumber" styleClass="text-red-500 mt-2 block"/>
                            </div>
                        </div>

                        <div class="col-12 lg:col-6 xl:col-6">
                            <div class="field">
                                <p:outputLabel for="customerName" value="#{msg.value['invoice.customer']}" styleClass="text-900 font-medium block mb-2"/>
                                <p:inputText id="customerName" 
                                           value="#{editInvoiceBean.invoiceToSave.invoiceCustomerName}" 
                                           required="true"
                                           requiredMessage="#{msg.value['message.required']}"
                                           placeholder="#{msg.value['invoice.customer']}"
                                           styleClass="w-full"/>
                                <p:message for="customerName" styleClass="text-red-500 mt-2 block"/>
                            </div>
                        </div>

                        <div class="col-12 lg:col-6 xl:col-6">
                            <div class="field">
                                <p:outputLabel for="amount" value="#{msg.value['invoice.amount']}" styleClass="text-900 font-medium block mb-2"/>
                                <p:inputNumber id="amount" 
                                             value="#{editInvoiceBean.invoiceToSave.invoiceAmount}" 
                                             required="true"
                                             requiredMessage="#{msg.value['message.required']}"
                                             placeholder="#{msg.value['invoice.amount']}"
                                             minValue="0"
                                             decimalPlaces="2"
                                             styleClass="w-full"
                                             inputStyleClass="w-full"/>
                                <p:message for="amount" styleClass="text-red-500 mt-2 block"/>
                            </div>
                        </div>

                        <div class="col-12 lg:col-6 xl:col-6">
                            <div class="field">
                                <p:outputLabel for="date" value="#{msg.value['invoice.date']}" styleClass="text-900 font-medium block mb-2"/>
                                <p:calendar id="date" 
                                          value="#{editInvoiceBean.invoiceToSave.invoiceDate}" 
                                          required="true"
                                          requiredMessage="#{msg.value['message.required']}"
                                          pattern="dd/MM/yyyy"
                                          showIcon="true"
                                          placeholder="#{msg.value['invoice.date']}"
                                          styleClass="w-full"
                                          inputStyleClass="w-full">
                                    <f:converter binding="#{dateConverter}"/>
                                </p:calendar>
                                <p:message for="date" styleClass="text-red-500 mt-2 block"/>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-content-end gap-2 mt-3">
                        <p:commandButton value="#{msg.value['button.save']}" 
                                       action="#{editInvoiceBean.save}" 
                                       update="@form messages"
                                       process="@form"
                                       styleClass="ui-button-success"/>
                        <p:button value="#{msg.value['button.cancel']}" 
                                outcome="listing" 
                                styleClass="ui-button-secondary"/>
                    </div>
                </p:panel>
            </h:form>
        </div>
    </ui:define>
</ui:composition>
</html>
